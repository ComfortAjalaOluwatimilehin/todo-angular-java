
<div *ngIf="todos$ | async as todos">
  <h2>All Todos</h2>
  <ul id="todolist" class="list-group">
    <li 
      class="list-group-item"
      *ngFor="let todo of todos"
      (click)="selectTodo(todo)"
      [class.selectedTodo]="selectedTodo === todo"
      [class.todoIsDone]="todo.done"
    >
      {{ todo.title }}
    </li>
  </ul>
  <div *ngIf="selectedTodo">
    <div class="form-group">
      <label for="title">Name</label>
      <input id="title" class="form-control" [(ngModel)]="newTodo.title" />
    </div>
    <div class="form-group">
      <label for="content">Content</label>
      <textarea id="content" class="form-control" [(ngModel)]="newTodo.content"></textarea>
    </div>
    <div class="form-group">
      <label for="done">Done</label>
      <input id="done" class="form-control" [(ngModel)]="newTodo.done" type="checkbox" />
    </div>
  
    <button (click)="updateTodo()"  type="button"  class="btn btn-primary">Save</button>
    <button (click)="deleteSelectedTodo()"  type="button"  class="btn btn-danger">Delete</button>
    <button (click)="cancelSelectedTodo()"  type="button"   class="btn btn-secondary">Cancel</button>
  </div>
  <div *ngIf="!selectedTodo">
    <h3>Create new Todo</h3>
    <div class="form-group">
      <label for="title">Name</label>
      <input id="title" class="form-control" [(ngModel)]="newTodo.title" />
    </div>
    <div class="form-group">
      <label for="content">Content</label>
      <textarea id="content"  class="form-control" [(ngModel)]="newTodo.content"></textarea>
    </div>
    <div class="form-group">
      <label for="done">Done</label>
      <input id="done" class="form-control" [(ngModel)]="newTodo.done" type="checkbox" />
    </div>
    <button (click)="saveNewTodo()"  type="button"  class="btn btn-primary">Save</button>
  </div>
</div>
<div *ngIf="!todos$">Loading</div>
